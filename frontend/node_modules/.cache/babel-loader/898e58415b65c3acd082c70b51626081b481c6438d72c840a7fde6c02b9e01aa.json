{"ast":null,"code":"var _jsxFileName = \"/home/endrawes/diagnosis_quiz_tool/frontend/src/components/QuizPlayer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport QuestionDisplay from './QuestionDisplay';\nimport ProgressBar from './ProgressBar';\nimport Timer from './Timer';\nimport ScoreDisplay from './ScoreDisplay';\nimport { quizAPI } from '../services/api';\nimport styles from '../styles/QuizPlayer.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuizPlayer = ({\n  quizConfig,\n  onQuizComplete,\n  onQuizExit,\n  userId = null\n}) => {\n  _s();\n  var _quiz$quiz_data, _quiz$quiz_data$quest, _quiz$quiz_data2, _quiz$quiz_data2$ques;\n  const [quiz, setQuiz] = useState(null);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [answers, setAnswers] = useState([]);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [showFeedback, setShowFeedback] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [quizResults, setQuizResults] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(60);\n  const [streak, setStreak] = useState(0);\n  const [totalTime, setTotalTime] = useState(0);\n  const currentQuestion = quiz === null || quiz === void 0 ? void 0 : (_quiz$quiz_data = quiz.quiz_data) === null || _quiz$quiz_data === void 0 ? void 0 : (_quiz$quiz_data$quest = _quiz$quiz_data.questions) === null || _quiz$quiz_data$quest === void 0 ? void 0 : _quiz$quiz_data$quest[currentQuestionIndex];\n  const totalQuestions = (quiz === null || quiz === void 0 ? void 0 : (_quiz$quiz_data2 = quiz.quiz_data) === null || _quiz$quiz_data2 === void 0 ? void 0 : (_quiz$quiz_data2$ques = _quiz$quiz_data2.questions) === null || _quiz$quiz_data2$ques === void 0 ? void 0 : _quiz$quiz_data2$ques.length) || 0;\n  useEffect(() => {\n    if (quizConfig) {\n      startQuiz();\n    }\n  }, [quizConfig]);\n  const startQuiz = async () => {\n    console.log('startQuiz called with config:', quizConfig);\n    setLoading(true);\n    setError(null);\n    try {\n      console.log('Calling quizAPI.generateQuiz...');\n      const response = await quizAPI.generateQuiz(quizConfig);\n      console.log('API response received:', response);\n      console.log('Response data:', response.data);\n      if (response.data && response.data.quiz_data) {\n        setQuiz(response.data);\n        setTimeLeft(quizConfig.untimed_mode ? 0 : quizConfig.time_per_question || 60);\n      } else {\n        throw new Error('Invalid response format: missing quiz_data');\n      }\n    } catch (err) {\n      console.error('Quiz generation error:', err);\n      let errorMessage = 'Failed to load quiz. Please try again.';\n      if (err.response) {\n        // Server responded with error\n        console.error('Response status:', err.response.status);\n        console.error('Response data:', err.response.data);\n        if (err.response.data && err.response.data.message) {\n          errorMessage = `Quiz generation failed: ${err.response.data.message}`;\n        } else if (err.response.status === 404) {\n          errorMessage = 'Quiz service not found. Please check if the backend is running.';\n        } else if (err.response.status === 500) {\n          errorMessage = 'Server error occurred. Please try again later.';\n        }\n      } else if (err.request) {\n        // Network error\n        console.error('Network error:', err.request);\n        errorMessage = 'Network error. Please check your connection and ensure the backend is running on localhost:5000.';\n      }\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleAnswerSelect = useCallback(answerId => {\n    if (isSubmitted) return;\n    setSelectedAnswer(answerId);\n  }, [isSubmitted]);\n  const handleSubmitAnswer = async () => {\n    if (!currentQuestion || isSubmitted) return;\n\n    // For multi-case matching, check if all cases have diagnoses assigned\n    if (currentQuestion.question_type === 'multi_case_matching') {\n      const cases = currentQuestion.cases || [];\n      const assignedDiagnoses = Object.keys(selectedAnswer || {});\n      if (assignedDiagnoses.length !== cases.length) {\n        // Not all cases have been assigned\n        return;\n      }\n    } else if (selectedAnswer === null) {\n      return;\n    }\n    setIsSubmitted(true);\n    setShowFeedback(true);\n    const answerData = {\n      question_id: currentQuestion.question_number,\n      answer: selectedAnswer,\n      time_taken: 60 - timeLeft,\n      timestamp: new Date().toISOString()\n    };\n    try {\n      const response = await quizAPI.submitAnswer(quiz.id, currentQuestion.id, selectedAnswer);\n      const newAnswers = [...answers, answerData];\n      setAnswers(newAnswers);\n\n      // Use the correctness from the backend response\n      const isCorrect = response.data.correct;\n      if (isCorrect) {\n        setStreak(prev => prev + 1);\n      } else {\n        setStreak(0);\n      }\n      setTotalTime(prev => prev + (60 - timeLeft));\n      setTimeout(() => {\n        if (currentQuestionIndex < totalQuestions - 1) {\n          moveToNextQuestion();\n        } else {\n          completeQuiz(newAnswers);\n        }\n      }, 2000);\n    } catch (err) {\n      setError('Failed to submit answer. Please try again.');\n      console.error('Answer submission error:', err);\n    }\n  };\n  const moveToNextQuestion = () => {\n    setCurrentQuestionIndex(prev => prev + 1);\n    setSelectedAnswer(null);\n    setIsSubmitted(false);\n    setShowFeedback(false);\n    setTimeLeft(quizConfig !== null && quizConfig !== void 0 && quizConfig.untimed_mode ? 0 : (quizConfig === null || quizConfig === void 0 ? void 0 : quizConfig.time_per_question) || 60);\n  };\n  const completeQuiz = async finalAnswers => {\n    setLoading(true);\n    try {\n      const response = await quizAPI.getQuizResults(quiz.id);\n      setQuizResults(response.data);\n      if (onQuizComplete) {\n        onQuizComplete({\n          quiz: quiz,\n          answers: finalAnswers,\n          results: response.data,\n          totalTime: totalTime\n        });\n      }\n    } catch (err) {\n      setError('Failed to get quiz results. Please try again.');\n      console.error('Results fetch error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleTimeUp = () => {\n    if (!isSubmitted && !(quizConfig !== null && quizConfig !== void 0 && quizConfig.untimed_mode)) {\n      // Auto-submit with current selection or null if no selection (only in timed mode)\n      handleSubmitAnswer();\n    }\n  };\n  const handleRestart = () => {\n    setCurrentQuestionIndex(0);\n    setSelectedAnswer(null);\n    setAnswers([]);\n    setIsSubmitted(false);\n    setShowFeedback(false);\n    setQuizResults(null);\n    setStreak(0);\n    setTotalTime(0);\n    setTimeLeft(quizConfig !== null && quizConfig !== void 0 && quizConfig.untimed_mode ? 0 : (quizConfig === null || quizConfig === void 0 ? void 0 : quizConfig.time_per_question) || 60);\n    startQuiz();\n  };\n  const handleExit = () => {\n    if (onQuizExit) {\n      onQuizExit();\n    }\n  };\n  if (loading && !quiz) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.loading,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.spinner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading quiz...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.error,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.buttonPrimary,\n          onClick: handleRestart,\n          children: \"Try Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this);\n  }\n  if (quizResults) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.header,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: styles.title,\n          children: \"Quiz Complete!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.subtitle,\n          children: \"Great job on completing the quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.quizContainer,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.questionContainer,\n          children: [/*#__PURE__*/_jsxDEV(ScoreDisplay, {\n            score: quizResults.score,\n            totalQuestions: totalQuestions,\n            correctAnswers: quizResults.correct_answers,\n            timeBonus: quizResults.time_bonus,\n            streak: streak,\n            showDetails: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.quizControls,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.buttonSecondary,\n              onClick: handleExit,\n              children: \"Exit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.buttonPrimary,\n              onClick: handleRestart,\n              children: \"Start New Quiz\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this);\n  }\n  if (!quiz || !currentQuestion) {\n    var _quiz$quiz_data3, _quiz$quiz_data3$ques;\n    console.log('No quiz or current question available:', {\n      quiz: !!quiz,\n      currentQuestion: !!currentQuestion\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.error,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No Quiz Available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please configure and start a new quiz.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Debug: Quiz loaded: \", quiz ? 'Yes' : 'No', \", Questions: \", (quiz === null || quiz === void 0 ? void 0 : (_quiz$quiz_data3 = quiz.quiz_data) === null || _quiz$quiz_data3 === void 0 ? void 0 : (_quiz$quiz_data3$ques = _quiz$quiz_data3.questions) === null || _quiz$quiz_data3$ques === void 0 ? void 0 : _quiz$quiz_data3$ques.length) || 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.title,\n        children: \"Diagnosis Quiz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.subtitle,\n        children: \"Test your knowledge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.quizContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.quizHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.quizInfo,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.infoItem,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.infoLabel,\n              children: \"Question\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.infoValue,\n              children: [currentQuestionIndex + 1, \"/\", totalQuestions]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.infoItem,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.infoLabel,\n              children: \"Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.infoValue,\n              children: (quizResults === null || quizResults === void 0 ? void 0 : quizResults.score) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.infoItem,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.infoLabel,\n              children: \"Streak\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.infoValue,\n              children: [streak, \" \\uD83D\\uDD25\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Timer, {\n          initialTime: timeLeft,\n          onTimeUp: handleTimeUp,\n          isRunning: !isSubmitted,\n          warningThreshold: 10,\n          untimed: quizConfig === null || quizConfig === void 0 ? void 0 : quizConfig.untimed_mode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n        current: currentQuestionIndex + 1,\n        total: totalQuestions,\n        showPercentage: true,\n        showText: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(QuestionDisplay, {\n        question: currentQuestion,\n        onAnswerSelect: handleAnswerSelect,\n        selectedAnswer: selectedAnswer,\n        showFeedback: showFeedback,\n        isSubmitted: isSubmitted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.quizControls,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.buttonSecondary,\n          onClick: handleExit,\n          children: \"Exit Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), !isSubmitted ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.buttonPrimary,\n          onClick: handleSubmitAnswer,\n          disabled: selectedAnswer === null,\n          children: \"Submit Answer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.nextButtonContainer,\n          children: currentQuestionIndex < totalQuestions - 1 ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.nextQuestionText,\n            children: \"Next question in 2 seconds...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.nextQuestionText,\n            children: \"Completing quiz...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 273,\n    columnNumber: 5\n  }, this);\n};\n_s(QuizPlayer, \"DYExewvSqrq26/8s3zMURIpDHp0=\");\n_c = QuizPlayer;\nexport default QuizPlayer;\nvar _c;\n$RefreshReg$(_c, \"QuizPlayer\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","QuestionDisplay","ProgressBar","Timer","ScoreDisplay","quizAPI","styles","jsxDEV","_jsxDEV","QuizPlayer","quizConfig","onQuizComplete","onQuizExit","userId","_s","_quiz$quiz_data","_quiz$quiz_data$quest","_quiz$quiz_data2","_quiz$quiz_data2$ques","quiz","setQuiz","currentQuestionIndex","setCurrentQuestionIndex","selectedAnswer","setSelectedAnswer","answers","setAnswers","isSubmitted","setIsSubmitted","showFeedback","setShowFeedback","loading","setLoading","error","setError","quizResults","setQuizResults","timeLeft","setTimeLeft","streak","setStreak","totalTime","setTotalTime","currentQuestion","quiz_data","questions","totalQuestions","length","startQuiz","console","log","response","generateQuiz","data","untimed_mode","time_per_question","Error","err","errorMessage","status","message","request","handleAnswerSelect","answerId","handleSubmitAnswer","question_type","cases","assignedDiagnoses","Object","keys","answerData","question_id","question_number","answer","time_taken","timestamp","Date","toISOString","submitAnswer","id","newAnswers","isCorrect","correct","prev","setTimeout","moveToNextQuestion","completeQuiz","finalAnswers","getQuizResults","results","handleTimeUp","handleRestart","handleExit","className","container","children","spinner","fileName","_jsxFileName","lineNumber","columnNumber","buttonPrimary","onClick","header","title","subtitle","quizContainer","questionContainer","score","correctAnswers","correct_answers","timeBonus","time_bonus","showDetails","quizControls","buttonSecondary","_quiz$quiz_data3","_quiz$quiz_data3$ques","quizHeader","quizInfo","infoItem","infoLabel","infoValue","initialTime","onTimeUp","isRunning","warningThreshold","untimed","current","total","showPercentage","showText","question","onAnswerSelect","disabled","nextButtonContainer","nextQuestionText","_c","$RefreshReg$"],"sources":["/home/endrawes/diagnosis_quiz_tool/frontend/src/components/QuizPlayer.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport QuestionDisplay from './QuestionDisplay';\nimport ProgressBar from './ProgressBar';\nimport Timer from './Timer';\nimport ScoreDisplay from './ScoreDisplay';\nimport { quizAPI } from '../services/api';\nimport styles from '../styles/QuizPlayer.module.css';\n\nconst QuizPlayer = ({\n  quizConfig,\n  onQuizComplete,\n  onQuizExit,\n  userId = null\n}) => {\n  const [quiz, setQuiz] = useState(null);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n\n\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [answers, setAnswers] = useState([]);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [showFeedback, setShowFeedback] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [quizResults, setQuizResults] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(60);\n  const [streak, setStreak] = useState(0);\n  const [totalTime, setTotalTime] = useState(0);\n\n  const currentQuestion = quiz?.quiz_data?.questions?.[currentQuestionIndex];\n  const totalQuestions = quiz?.quiz_data?.questions?.length || 0;\n\n  useEffect(() => {\n    if (quizConfig) {\n      startQuiz();\n    }\n  }, [quizConfig]);\n\n  const startQuiz = async () => {\n    console.log('startQuiz called with config:', quizConfig);\n    setLoading(true);\n    setError(null);\n\n    try {\n      console.log('Calling quizAPI.generateQuiz...');\n      const response = await quizAPI.generateQuiz(quizConfig);\n      console.log('API response received:', response);\n      console.log('Response data:', response.data);\n\n      if (response.data && response.data.quiz_data) {\n        setQuiz(response.data);\n        setTimeLeft(quizConfig.untimed_mode ? 0 : (quizConfig.time_per_question || 60));\n      } else {\n        throw new Error('Invalid response format: missing quiz_data');\n      }\n    } catch (err) {\n      console.error('Quiz generation error:', err);\n      let errorMessage = 'Failed to load quiz. Please try again.';\n\n      if (err.response) {\n        // Server responded with error\n        console.error('Response status:', err.response.status);\n        console.error('Response data:', err.response.data);\n        if (err.response.data && err.response.data.message) {\n          errorMessage = `Quiz generation failed: ${err.response.data.message}`;\n        } else if (err.response.status === 404) {\n          errorMessage = 'Quiz service not found. Please check if the backend is running.';\n        } else if (err.response.status === 500) {\n          errorMessage = 'Server error occurred. Please try again later.';\n        }\n      } else if (err.request) {\n        // Network error\n        console.error('Network error:', err.request);\n        errorMessage = 'Network error. Please check your connection and ensure the backend is running on localhost:5000.';\n      }\n\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAnswerSelect = useCallback((answerId) => {\n    if (isSubmitted) return;\n    setSelectedAnswer(answerId);\n  }, [isSubmitted]);\n\n  const handleSubmitAnswer = async () => {\n    if (!currentQuestion || isSubmitted) return;\n\n    // For multi-case matching, check if all cases have diagnoses assigned\n    if (currentQuestion.question_type === 'multi_case_matching') {\n      const cases = currentQuestion.cases || [];\n      const assignedDiagnoses = Object.keys(selectedAnswer || {});\n      if (assignedDiagnoses.length !== cases.length) {\n        // Not all cases have been assigned\n        return;\n      }\n    } else if (selectedAnswer === null) {\n      return;\n    }\n\n    setIsSubmitted(true);\n    setShowFeedback(true);\n\n    const answerData = {\n      question_id: currentQuestion.question_number,\n      answer: selectedAnswer,\n      time_taken: (60 - timeLeft),\n      timestamp: new Date().toISOString()\n    };\n\n    try {\n      const response = await quizAPI.submitAnswer(quiz.id, currentQuestion.id, selectedAnswer);\n\n      const newAnswers = [...answers, answerData];\n      setAnswers(newAnswers);\n\n      // Use the correctness from the backend response\n      const isCorrect = response.data.correct;\n\n      if (isCorrect) {\n        setStreak(prev => prev + 1);\n      } else {\n        setStreak(0);\n      }\n\n      setTotalTime(prev => prev + (60 - timeLeft));\n\n      setTimeout(() => {\n        if (currentQuestionIndex < totalQuestions - 1) {\n          moveToNextQuestion();\n        } else {\n          completeQuiz(newAnswers);\n        }\n      }, 2000);\n\n    } catch (err) {\n      setError('Failed to submit answer. Please try again.');\n      console.error('Answer submission error:', err);\n    }\n  };\n\n  const moveToNextQuestion = () => {\n    setCurrentQuestionIndex(prev => prev + 1);\n    setSelectedAnswer(null);\n    setIsSubmitted(false);\n    setShowFeedback(false);\n    setTimeLeft(quizConfig?.untimed_mode ? 0 : (quizConfig?.time_per_question || 60));\n  };\n\n  const completeQuiz = async (finalAnswers) => {\n    setLoading(true);\n    \n    try {\n      const response = await quizAPI.getQuizResults(quiz.id);\n      setQuizResults(response.data);\n      \n      if (onQuizComplete) {\n        onQuizComplete({\n          quiz: quiz,\n          answers: finalAnswers,\n          results: response.data,\n          totalTime: totalTime\n        });\n      }\n    } catch (err) {\n      setError('Failed to get quiz results. Please try again.');\n      console.error('Results fetch error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleTimeUp = () => {\n    if (!isSubmitted && !quizConfig?.untimed_mode) {\n      // Auto-submit with current selection or null if no selection (only in timed mode)\n      handleSubmitAnswer();\n    }\n  };\n\n  const handleRestart = () => {\n    setCurrentQuestionIndex(0);\n    setSelectedAnswer(null);\n    setAnswers([]);\n    setIsSubmitted(false);\n    setShowFeedback(false);\n    setQuizResults(null);\n    setStreak(0);\n    setTotalTime(0);\n    setTimeLeft(quizConfig?.untimed_mode ? 0 : (quizConfig?.time_per_question || 60));\n    startQuiz();\n  };\n\n  const handleExit = () => {\n    if (onQuizExit) {\n      onQuizExit();\n    }\n  };\n\n  if (loading && !quiz) {\n    return (\n      <div className={styles.container}>\n        <div className={styles.loading}>\n          <div className={styles.spinner}></div>\n          <p>Loading quiz...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={styles.container}>\n        <div className={styles.error}>\n          <h3>Error</h3>\n          <p>{error}</p>\n          <button className={styles.buttonPrimary} onClick={handleRestart}>\n            Try Again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (quizResults) {\n    return (\n      <div className={styles.container}>\n        <div className={styles.header}>\n          <h1 className={styles.title}>Quiz Complete!</h1>\n          <p className={styles.subtitle}>Great job on completing the quiz</p>\n        </div>\n        \n        <div className={styles.quizContainer}>\n          <div className={styles.questionContainer}>\n            <ScoreDisplay\n              score={quizResults.score}\n              totalQuestions={totalQuestions}\n              correctAnswers={quizResults.correct_answers}\n              timeBonus={quizResults.time_bonus}\n              streak={streak}\n              showDetails={true}\n            />\n            \n            <div className={styles.quizControls}>\n              <button className={styles.buttonSecondary} onClick={handleExit}>\n                Exit\n              </button>\n              <button className={styles.buttonPrimary} onClick={handleRestart}>\n                Start New Quiz\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!quiz || !currentQuestion) {\n    console.log('No quiz or current question available:', { quiz: !!quiz, currentQuestion: !!currentQuestion });\n    return (\n      <div className={styles.container}>\n        <div className={styles.error}>\n          <h3>No Quiz Available</h3>\n          <p>Please configure and start a new quiz.</p>\n          <p>Debug: Quiz loaded: {quiz ? 'Yes' : 'No'}, Questions: {quiz?.quiz_data?.questions?.length || 0}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.header}>\n        <h1 className={styles.title}>Diagnosis Quiz</h1>\n         <p className={styles.subtitle}>Test your knowledge</p>\n      </div>\n\n      <div className={styles.quizContainer}>\n        <div className={styles.quizHeader}>\n          <div className={styles.quizInfo}>\n            <div className={styles.infoItem}>\n              <span className={styles.infoLabel}>Question</span>\n              <span className={styles.infoValue}>\n                {currentQuestionIndex + 1}/{totalQuestions}\n              </span>\n            </div>\n            <div className={styles.infoItem}>\n              <span className={styles.infoLabel}>Score</span>\n              <span className={styles.infoValue}>\n                {quizResults?.score || 0}\n              </span>\n            </div>\n            <div className={styles.infoItem}>\n              <span className={styles.infoLabel}>Streak</span>\n              <span className={styles.infoValue}>\n                {streak} ðŸ”¥\n              </span>\n            </div>\n          </div>\n          \n           <Timer\n             initialTime={timeLeft}\n             onTimeUp={handleTimeUp}\n             isRunning={!isSubmitted}\n             warningThreshold={10}\n             untimed={quizConfig?.untimed_mode}\n           />\n        </div>\n\n        <ProgressBar\n          current={currentQuestionIndex + 1}\n          total={totalQuestions}\n          showPercentage={true}\n          showText={true}\n        />\n\n        <QuestionDisplay\n          question={currentQuestion}\n          onAnswerSelect={handleAnswerSelect}\n          selectedAnswer={selectedAnswer}\n          showFeedback={showFeedback}\n          isSubmitted={isSubmitted}\n        />\n\n        <div className={styles.quizControls}>\n          <button className={styles.buttonSecondary} onClick={handleExit}>\n            Exit Quiz\n          </button>\n          \n          {!isSubmitted ? (\n            <button \n              className={styles.buttonPrimary}\n              onClick={handleSubmitAnswer}\n              disabled={selectedAnswer === null}\n            >\n              Submit Answer\n            </button>\n          ) : (\n            <div className={styles.nextButtonContainer}>\n              {currentQuestionIndex < totalQuestions - 1 ? (\n                <span className={styles.nextQuestionText}>\n                  Next question in 2 seconds...\n                </span>\n              ) : (\n                <span className={styles.nextQuestionText}>\n                  Completing quiz...\n                </span>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QuizPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}