{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import styles from'../styles/QuizPlayer.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Timer=_ref=>{let{initialTime=60,onTimeUp,isRunning=true,onTick,warningThreshold=10}=_ref;const[timeLeft,setTimeLeft]=useState(initialTime);const[isWarning,setIsWarning]=useState(false);useEffect(()=>{setTimeLeft(initialTime);setIsWarning(false);},[initialTime]);useEffect(()=>{if(!isRunning||timeLeft<=0){if(timeLeft<=0&&onTimeUp){onTimeUp();}return;}const timer=setInterval(()=>{setTimeLeft(prevTime=>{const newTime=prevTime-1;if(onTick){onTick(newTime);}if(newTime<=warningThreshold&&newTime>0){setIsWarning(true);}if(newTime<=0){if(onTimeUp){onTimeUp();}return 0;}return newTime;});},1000);return()=>clearInterval(timer);},[isRunning,timeLeft,onTimeUp,onTick,warningThreshold]);const formatTime=useCallback(seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins,\":\").concat(secs.toString().padStart(2,'0'));},[]);const getTimerClass=()=>{if(!isRunning)return styles.timerPaused;if(timeLeft<=warningThreshold)return styles.timerWarning;return styles.timerNormal;};return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.timer,\" \").concat(getTimerClass()),children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.timerDisplay,children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",className:styles.timerIcon,children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"12 6 12 12 16 14\"})]}),/*#__PURE__*/_jsx(\"span\",{className:styles.timerText,children:formatTime(timeLeft)})]}),isWarning&&/*#__PURE__*/_jsx(\"div\",{className:styles.timerWarningText,children:\"Time running out!\"})]});};export default Timer;","map":{"version":3,"names":["React","useState","useEffect","useCallback","styles","jsx","_jsx","jsxs","_jsxs","Timer","_ref","initialTime","onTimeUp","isRunning","onTick","warningThreshold","timeLeft","setTimeLeft","isWarning","setIsWarning","timer","setInterval","prevTime","newTime","clearInterval","formatTime","seconds","mins","Math","floor","secs","concat","toString","padStart","getTimerClass","timerPaused","timerWarning","timerNormal","className","children","timerDisplay","width","height","viewBox","fill","stroke","strokeWidth","timerIcon","cx","cy","r","points","timerText","timerWarningText"],"sources":["/home/endrawes/diagnosis_quiz_tool/frontend/src/components/Timer.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport styles from '../styles/QuizPlayer.module.css';\n\nconst Timer = ({ \n  initialTime = 60, \n  onTimeUp, \n  isRunning = true, \n  onTick,\n  warningThreshold = 10 \n}) => {\n  const [timeLeft, setTimeLeft] = useState(initialTime);\n  const [isWarning, setIsWarning] = useState(false);\n\n  useEffect(() => {\n    setTimeLeft(initialTime);\n    setIsWarning(false);\n  }, [initialTime]);\n\n  useEffect(() => {\n    if (!isRunning || timeLeft <= 0) {\n      if (timeLeft <= 0 && onTimeUp) {\n        onTimeUp();\n      }\n      return;\n    }\n\n    const timer = setInterval(() => {\n      setTimeLeft((prevTime) => {\n        const newTime = prevTime - 1;\n        \n        if (onTick) {\n          onTick(newTime);\n        }\n        \n        if (newTime <= warningThreshold && newTime > 0) {\n          setIsWarning(true);\n        }\n        \n        if (newTime <= 0) {\n          if (onTimeUp) {\n            onTimeUp();\n          }\n          return 0;\n        }\n        \n        return newTime;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [isRunning, timeLeft, onTimeUp, onTick, warningThreshold]);\n\n  const formatTime = useCallback((seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  }, []);\n\n  const getTimerClass = () => {\n    if (!isRunning) return styles.timerPaused;\n    if (timeLeft <= warningThreshold) return styles.timerWarning;\n    return styles.timerNormal;\n  };\n\n  return (\n    <div className={`${styles.timer} ${getTimerClass()}`}>\n      <div className={styles.timerDisplay}>\n        <svg \n          width=\"24\" \n          height=\"24\" \n          viewBox=\"0 0 24 24\" \n          fill=\"none\" \n          stroke=\"currentColor\" \n          strokeWidth=\"2\"\n          className={styles.timerIcon}\n        >\n          <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n          <polyline points=\"12 6 12 12 16 14\"></polyline>\n        </svg>\n        <span className={styles.timerText}>{formatTime(timeLeft)}</span>\n      </div>\n      {isWarning && (\n        <div className={styles.timerWarningText}>\n          Time running out!\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Timer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}